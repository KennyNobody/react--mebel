"use strict";(self.webpackChunkreact_home=self.webpackChunkreact_home||[]).push([[635],{248:(e,t,r)=>{r.r(t),r.d(t,{default:()=>W});var a=r(7294),i=r(4184),l=r.n(i),o=r(9250),n=r(5906),s=r(5140),c=r(1931),d=r(6689);const u=e=>{const[t,r]=(0,a.useState)(1);return(0,a.useEffect)((()=>{const t=()=>{const t=((e,t,r)=>e>=t?1:Math.floor(e)/(Math.floor(t*r)-1))(window.scrollY,window.innerHeight,e);r(1-t)};return window.addEventListener("scroll",t),t(),()=>window.removeEventListener("scroll",t)}),[]),t};var m=r(2279);const h={"block--theme-dark":"src-3_features-DetailContent-ui-DetailContent-DetailContent-module__block--theme-dark-Cuk6o",picture:"src-3_features-DetailContent-ui-DetailContent-DetailContent-module__picture-dLzE_","intro-main":"src-3_features-DetailContent-ui-DetailContent-DetailContent-module__intro-main-RpaDo","container-editor":"src-3_features-DetailContent-ui-DetailContent-DetailContent-module__container-editor-e4Jbn"};var _=r(1572),D=r(7775),f=r(4544);const g={intro:"src-3_features-DetailContent-ui-DetailIntro-DetailIntro-module__intro-yOD8K","intro--theme-light":"src-3_features-DetailContent-ui-DetailIntro-DetailIntro-module__intro--theme-light-JjHqg","intro--theme-dark":"src-3_features-DetailContent-ui-DetailIntro-DetailIntro-module__intro--theme-dark-zA9MB","intro-content":"src-3_features-DetailContent-ui-DetailIntro-DetailIntro-module__intro-content-V1wD4","toolbar-category":"src-3_features-DetailContent-ui-DetailIntro-DetailIntro-module__toolbar-category-ggGuZ",title:"src-3_features-DetailContent-ui-DetailIntro-DetailIntro-module__title-sgMpQ","column-title":"src-3_features-DetailContent-ui-DetailIntro-DetailIntro-module__column-title-qnse9","column-cat":"src-3_features-DetailContent-ui-DetailIntro-DetailIntro-module__column-cat-VomYl"};var b=r(5893);const x=(0,a.memo)((e=>{const{data:t,theme:r,isLoading:a,className:i}=e,o=u(1),n=t?.tags?.data,s=t?.category?.data,m=t?.main?.previewInverted;return(0,b.jsx)("div",{className:l()(g.intro,g[`intro--${r}`],i),children:(0,b.jsx)(d.W,{children:(0,b.jsxs)("div",{hidden:o<0,className:l()(g["intro-content"]),children:[(0,b.jsxs)("div",{className:l()(f.Z.grid),children:[(0,b.jsx)("div",{className:l()(f.Z["grid__col-2"],f.Z["grid__col-lap-3"],f.Z["grid__col-mob-4"],g["column-title"]),children:(0,b.jsxs)("h1",{className:l()(g.title),children:[!a&&(0,b.jsxs)(b.Fragment,{children:[t?.main?.previewTitle,(0,b.jsx)("br",{}),t?.main?.previewCaption]}),a&&(0,b.jsx)(D.O,{strings:2,mode:D.a.LINES})]})}),(0,b.jsx)("div",{className:l()(f.Z["grid__col-2"],f.Z["grid__col-lap-1"],f.Z["grid__col-mob-4"],g["column-cat"]),children:(0,b.jsx)("div",{className:l()(g["toolbar-category"]),children:s&&(0,b.jsx)(_.Fo,{data:s,themeProp:r,mode:_.Z2.STATIC})})})]}),(0,b.jsx)("div",{className:l()(g["main-content"]),children:(0,b.jsx)("div",{className:l()(f.Z.grid,g.grid),children:(0,b.jsx)("div",{className:l()(f.Z["grid__col-2"],f.Z["grid__col-mob-4"]),children:n&&n?.length>0&&(0,b.jsx)(_.Y2,{children:n.map((e=>(0,b.jsx)(_.s_,{data:e,themeProp:m?c.SJ.DARK:c.SJ.LIGHT},e.id)))})})})})]})})})}));var j=r(4204);const p={editor:"src-5_shared-ui-Editor-Editor-module__editor-HsrXa","editor--theme-light":"src-5_shared-ui-Editor-Editor-module__editor--theme-light-Zx_xN","editor--theme-dark":"src-5_shared-ui-Editor-Editor-module__editor--theme-dark-ktzIZ"},v=e=>{const{data:t,children:r,themeProp:a,className:i}=e,{theme:o}=(0,s.F)();return t?(0,b.jsx)("div",{className:l()(p.editor,p[`editor--${a||o}`],i),dangerouslySetInnerHTML:{__html:t}}):(0,b.jsx)("div",{className:l()(p.editor,p[`editor--${a||o}`],i),children:r})},N={block:"src-3_features-DetailContent-ui-DetailEditor-DetailEditor-module__block-OAksJ","block--theme-light":"src-3_features-DetailContent-ui-DetailEditor-DetailEditor-module__block--theme-light-9USvZ","block--theme-dark":"src-3_features-DetailContent-ui-DetailEditor-DetailEditor-module__block--theme-dark-Uj701"},k=e=>{const{children:t}=e;return(0,b.jsx)("div",{className:l()("src-5_shared-ui-EditorWrapper-EditorWrapper-module__block-JaNUN"),children:t})},C=(0,a.memo)((e=>{const{children:t}=e;return(0,b.jsx)(k,{children:(0,b.jsx)("pre",{children:(0,b.jsx)("code",{children:t})})})})),S={figure:"src-3_features-DetailContent-ui-DetailPicture-DetailPicture-module__figure-IkDXf",figcaption:"src-3_features-DetailContent-ui-DetailPicture-DetailPicture-module__figcaption-qOQIj",text:"src-3_features-DetailContent-ui-DetailPicture-DetailPicture-module__text-dsaE0",caption:"src-3_features-DetailContent-ui-DetailPicture-DetailPicture-module__caption-bKPNO","caption--theme-light":"src-3_features-DetailContent-ui-DetailPicture-DetailPicture-module__caption--theme-light-rn1I0","caption--theme-dark":"src-3_features-DetailContent-ui-DetailPicture-DetailPicture-module__caption--theme-dark-SUPBD"},T=(0,a.memo)((e=>{const{level:t,children:r}=e,i=`h${t>0&&t<7?t:6}`;return(0,b.jsx)(k,{children:a.createElement(i,null,r)})})),I=e=>{const{children:t}=e;return(0,b.jsx)(k,{children:(0,b.jsx)("p",{children:t})})},w=(0,a.memo)((e=>{const{data:t,isLoading:r,className:i}=e,{theme:o}=(0,s.F)();return(0,b.jsx)("div",{className:l()(N.block,N[`block--${o}`],i),children:(0,b.jsxs)(v,{className:l()(N.editor),children:[r&&(0,b.jsx)(I,{children:(0,b.jsx)(D.O,{strings:40,mode:D.a.LINES})}),!r&&t&&(0,b.jsx)(j.i,{content:t,blocks:{paragraph:e=>{let{children:t}=e;return I({children:t})},image:e=>{let{image:t}=e;return(e=>{const{image:t,galleryKey:r}=e,{theme:i}=(0,s.F)(),o=(e=>{const[t,r]=(0,a.useState)("#");return(0,a.useEffect)((()=>{if(!e)return;let t="";e.caption&&(t=e.caption),e.alternativeText&&(t?t+=` â€” ${e.alternativeText}`:t=e.alternativeText),r(t)}),[e]),t})(t),n=t?.formats?.large?.url||t?.formats?.medium?.url||t?.formats?.small?.url;return(0,b.jsxs)("figure",{className:l()(S.figure),children:[n&&(0,b.jsx)("img",{alt:o,loading:"lazy","data-caption":o,src:`https://api.egor-badulin.ru${n}`,"data-fancybox":r||"post-gallery"}),(0,b.jsx)("figcaption",{className:l()(S.figcaption),children:(0,b.jsxs)(k,{children:[t?.caption&&(0,b.jsx)("p",{className:l()(S.text),children:t.caption}),t?.alternativeText&&(0,b.jsx)("p",{className:l()(S.caption,S[`caption--${i}`]),children:t.alternativeText})]})})]})})({image:t})},heading:e=>{let{children:t,level:r}=e;return T({children:t,level:r})},link:e=>{let{children:t,url:r}=e;return(e=>{const{url:t,children:r}=e;return(0,b.jsx)("a",{href:t,rel:"noopener noreferrer",target:"_blank",children:r})})({children:t,url:r})},code:e=>{let{children:t}=e;return C({children:t})},list:e=>{let{children:t,format:r}=e;return(e=>{const{format:t,children:r}=e,i="ordered"===t?"ol":"ul";return(0,b.jsx)(k,{children:a.createElement(i,null,r)})})({children:t,format:r})},quote:e=>{let{children:t}=e;return(e=>{const{children:t}=e;return(0,b.jsx)(k,{children:(0,b.jsx)("blockquote",{children:t})})})({children:t})}}})]})})}));var E=r(8258),y=r(1072),P=r(122),L=r(9725);const $={block:"src-3_features-Share-ui-Share-module__block-wOa20",title:"src-3_features-Share-ui-Share-module__title-TfwVU",controls:"src-3_features-Share-ui-Share-module__controls-eV95A",button:"src-3_features-Share-ui-Share-module__button-xh3YL","button--theme-light":"src-3_features-Share-ui-Share-module__button--theme-light-jImGQ","button--theme-dark":"src-3_features-Share-ui-Share-module__button--theme-dark-SzEVg",icon:"src-3_features-Share-ui-Share-module__icon-bXEVd","icon--theme-light":"src-3_features-Share-ui-Share-module__icon--theme-light-bN3DZ","icon--theme-dark":"src-3_features-Share-ui-Share-module__icon--theme-dark-HE9TX","title--theme-light":"src-3_features-Share-ui-Share-module__title--theme-light-aJxNb","title--theme-dark":"src-3_features-Share-ui-Share-module__title--theme-dark-W1FsB","controls--visible":"src-3_features-Share-ui-Share-module__controls--visible-OZ2n5"},O=(0,a.memo)((e=>{const{data:t,themeProp:r,className:i}=e,{theme:o}=(0,s.F)(),{t:n}=(0,y.$G)(),[c,d]=(0,a.useState)(!1),u=r||o,m=window.location.href,h=`https://api.egor-badulin.ru${t?.main?.preview?.data?.url}`||"";return(0,b.jsxs)("div",{className:l()($.block,i),children:[(0,b.jsx)("button",{type:"button",onClick:()=>d(!c),className:l()($.title,$[`title--${r||o}`]),children:n("share")}),(0,b.jsxs)(P.Z,{className:l()($.controls,{[$["controls--visible"]]:c}),children:[(0,b.jsx)(E.vK,{url:m,title:t?.title,image:h,resetButtonStyle:!1,className:l()($.button,$[`button--${u}`]),children:(0,b.jsx)(L.K9,{iconKey:L.Ol.VK,className:l()($.icon,$[`icon--${u}`])})}),(0,b.jsx)(E.B,{url:m,title:t?.title,resetButtonStyle:!1,className:l()($.button,$[`button--${u}`]),children:(0,b.jsx)(L.K9,{iconKey:L.Ol.X,className:l()($.icon,$[`icon--${u}`])})}),(0,b.jsx)(E.Dk,{url:m,title:t?.title,resetButtonStyle:!1,className:l()($.button,$[`button--${u}`]),children:(0,b.jsx)(L.K9,{iconKey:L.Ol.FB,className:l()($.icon,$[`icon--${u}`])})}),(0,b.jsx)(E.tq,{url:m,title:t?.title,resetButtonStyle:!1,className:l()($.button,$[`button--${u}`]),children:(0,b.jsx)(L.K9,{iconKey:L.Ol.TG,className:l()($.icon,$[`icon--${u}`])})})]})]})})),Z=e=>{const{date:t,className:r}=e,{i18n:i}=(0,y.$G)(),o=((e,t)=>{const[r,i]=(0,a.useState)("");return(0,a.useEffect)((()=>{if(!e)return void i("");const r=new Date(e);if(Number.isNaN(r.getTime()))return void i("");const a=r.toLocaleDateString(t,{year:"numeric",month:"long",day:"numeric"});i("ru"===t?a.slice(0,-3):a)}),[e,t]),r})(t,i.language);return(0,b.jsx)("time",{className:l()("src-5_shared-ui-DateInfo-DateInfo-module__block-lrfxz",r),children:o})};var K;function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},B.apply(this,arguments)}const U=e=>a.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 43"},e),K||(K=a.createElement("path",{fillRule:"evenodd",d:"m24 35.364 16.628-15.685 2.744 2.91L22 42.749.628 22.59l2.744-2.91L20 35.364V0h4v35.364Z",clipRule:"evenodd"}))),q={footer:"src-3_features-DetailContent-ui-DetailToolbar-DetailToolbar-module__footer-oL_iU","footer--theme-light":"src-3_features-DetailContent-ui-DetailToolbar-DetailToolbar-module__footer--theme-light-PzUx_","footer--theme-dark":"src-3_features-DetailContent-ui-DetailToolbar-DetailToolbar-module__footer--theme-dark-wk4q4","footer-grid":"src-3_features-DetailContent-ui-DetailToolbar-DetailToolbar-module__footer-grid-O5NsU","column-date":"src-3_features-DetailContent-ui-DetailToolbar-DetailToolbar-module__column-date-qreo7","column-button":"src-3_features-DetailContent-ui-DetailToolbar-DetailToolbar-module__column-button-P4Cqn","column-share":"src-3_features-DetailContent-ui-DetailToolbar-DetailToolbar-module__column-share-P_D6w",button:"src-3_features-DetailContent-ui-DetailToolbar-DetailToolbar-module__button-Bvp6U",icon:"src-3_features-DetailContent-ui-DetailToolbar-DetailToolbar-module__icon-jISxf","icon--theme-light":"src-3_features-DetailContent-ui-DetailToolbar-DetailToolbar-module__icon--theme-light-ZcEXj","icon--theme-dark":"src-3_features-DetailContent-ui-DetailToolbar-DetailToolbar-module__icon--theme-dark-NIjSd",share:"src-3_features-DetailContent-ui-DetailToolbar-DetailToolbar-module__share-LgZYA"},A=(0,a.forwardRef)(((e,t)=>{const{data:r,theme:a,isLoading:i,className:o}=e;return(0,b.jsx)("div",{ref:t,id:"scroll-anchor",className:l()(q.footer,q[`footer--${a}`],o),children:(0,b.jsxs)("div",{className:l()(q["footer-grid"]),children:[(0,b.jsx)("div",{className:l()(q["column-date"]),children:!i&&r?.publishedAt&&(0,b.jsx)(Z,{date:r?.publishedAt,className:l()(q.time)})}),(0,b.jsx)("div",{className:l()(q["column-button"]),children:(0,b.jsx)("a",{href:"#scroll-anchor",className:l()(q.button),children:(0,b.jsx)(U,{className:l()(q.icon,q[`icon--${a}`])})})}),(0,b.jsx)("div",{className:l()(q["column-share"]),children:!i&&r&&(0,b.jsx)(O,{data:r,themeProp:a,className:l()(q.share)})})]})})})),F=(0,a.memo)((e=>{const{data:t,className:r,isLoading:i}=e,{theme:o}=(0,s.F)(),n=u(.75),[_,D]=(0,a.useState)(o);return(0,a.useEffect)((()=>{void 0!==t?.main?.previewInverted&&D(t.main.previewInverted?c.SJ.DARK:c.SJ.LIGHT)}),[t]),(0,b.jsxs)("div",{className:l()(h.block,h[`block--${o}`],r),children:[(0,b.jsx)("picture",{style:{opacity:n},className:l()(h.picture),children:t?.main?.preview?.data?.url&&(0,b.jsx)("img",{src:`https://api.egor-badulin.ru${t?.main?.preview?.data?.url}`,alt:"#"})}),(0,b.jsx)(x,{data:t,theme:_,isLoading:i}),(0,b.jsxs)("div",{className:l()(h["intro-main"]),children:[(0,b.jsx)(d.W,{children:(0,b.jsx)(A,{data:t,theme:_,isLoading:i})}),t?.main?.content&&(0,b.jsx)(d.W,{className:l()(h["container-editor"]),children:(0,b.jsx)(m.Z,{children:(0,b.jsx)(w,{isLoading:i,data:t.main.content})})})]})]})}));var J=r(9581),V=r(7191),H=r(2505),z=r(7087),G=r(9282);const Q={},R={[G.Qh.POST]:V.O1,[G.Qh.DEV]:J.nK,[G.Qh.PHOTO]:H.Yf},W=function(e){let{mode:t}=e;const{slug:r}=(0,o.UO)(),{data:a,isLoading:i}=R[t](r||"none");return(0,b.jsxs)(z.o,{className:l()(Q.main),children:[(0,b.jsx)(n.b,{isLoading:i,data:a?.seo||void 0}),(0,b.jsx)(F,{data:a,isLoading:i})]})}}}]);